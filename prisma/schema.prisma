// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model UserAddress {
  userAddressId BigInt   @id @default(autoincrement())
  fullAddress   String
  city          City     @relation(fields: [cityId], references: [cityId])
  cityId        Int
  createdAt     DateTime
  createdBy     Int
  Users         Users?   @relation(fields: [userId], references: [userId])
  userId        Int?
}

model Users {
  userId      Int           @id @default(autoincrement())
  email       String        @unique
  password    String
  userType    UserType      @default(CUSTOMER)
  fullname    String
  phone       String
  location    String
  UserAddress UserAddress[]
}

model Vendor {
  vendorId   Int    @id @default(autoincrement())
  vendorName String
  email      String @unique
  password   String
  phone      String
  location   String
  address    String
  city       City   @relation(fields: [cityId], references: [cityId])
  cityId     Int
}

model Country {
  countryId   Int     @id @default(autoincrement())
  countryName String
  State       State[]
}

model State {
  stateId   Int     @id @default(autoincrement())
  stateName String
  country   Country @relation(fields: [countryId], references: [countryId])
  countryId Int
  City      City[]
}

model City {
  cityId      Int           @id @default(autoincrement())
  cityName    String
  state       State         @relation(fields: [stateId], references: [stateId])
  stateId     Int
  UserAddress UserAddress[]
  Vendor      Vendor[]
}

model Services {
  serviceId   Int         @id @default(autoincrement())
  serviceName String
  serviceType ServiceType @default(LAUNDRY)
  isActive    Boolean
  createdAt   DateTime    @default(now())
  createdBy   Int
}

enum UserType {
  CUSTOMER
  VENDOR
  ADMIN
  RIDER
}

enum ServiceType {
  CAR_WASH
  LAUNDRY
}